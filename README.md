# Minecraft Shop Lands プラグイン

MinecraftでWorldGuardを使用した土地管理システムプラグインです。

## 機能

- 木の斧を使った範囲選択
- WorldGuard地域の自動作成
- 手動看板設置による土地販売システム
- 購入者への建築権限の自動付与
- 土地名の変更機能

## 必要な環境

- Minecraft 1.21+
- Paper/Spigot サーバー
- WorldGuard プラグイン

## インストール方法

1. `minecraft-shop-lands-1.0.jar` を `plugins` フォルダに配置
2. サーバーを再起動

## 使用方法

### 1. 土地の作成

1. **木の斧**を手に持つ
2. **左クリック**で1つ目の座標を選択
3. **右クリック**で2つ目の座標を選択
4. `/createshop` コマンドを実行
5. **看板アイテム**がインベントリに追加されます
6. 適切な場所に看板を設置してください

### 2. 土地の購入

1. 設置された看板を**右クリック**
2. 自動的に土地の所有者として登録されます
3. その土地内で建築・破壊が可能になります

### 3. 土地名の変更

1. `/renameland <現在の土地名> <新しい土地名>` コマンドを実行
2. 関連する看板も自動的に更新されます

## 技術仕様

### WorldGuard設定

- **フラグ**: `build`, `block-place`, `block-break` を `DENY` に設定
- **優先度**: 10
- **メンバー**: 購入者は自動的にメンバーに追加され、建築権限を取得

### コマンド

- `/createshop` - 選択範囲に土地を作成し、看板アイテムを配布
- `/renameland <現在の土地名> <新しい土地名>` - 土地の名前を変更

## 権限

このプラグインでは以下の権限が使用されます：

- `shoplands.create` - 土地を作成する権限（デフォルト: オペレーターのみ）
- `shoplands.buy` - 土地を購入する権限（デフォルト: 全プレイヤー）  
- `shoplands.admin` - 管理者権限（デフォルト: オペレーターのみ）

### LuckPermsでの設定例

```
/lp group default permission set shoplands.buy true
/lp group builder permission set shoplands.create true
/lp group admin permission set shoplands.admin true
```

## トラブルシューティング

### 看板が設置されない場合

1. **権限の確認**: `shoplands.create` 権限を持っているか確認してください
2. **看板アイテムの確認**: ショップ看板アイテム（§6[土地販売看板]）を使用していることを確認してください
3. **設置場所の確認**: 看板を設置する場所に権限があるか確認してください
4. **地域の確認**: 看板アイテムに記載された地域名が正しいか確認してください

### デバッグ情報

- `/createshop` コマンド実行時: 選択範囲の座標と看板アイテム配布メッセージ
- `/renameland` コマンド実行時: 土地名変更の成功・失敗メッセージと看板更新状況
- 看板設置時: 設置成功メッセージと地域名の表示
- エラー時: 詳細なエラーメッセージ

## ライセンス

このプラグインはオープンソースソフトウェアです。

## 作者

mtmtyu

## バージョン

1.0

## 更新履歴

- 1.0: 初回リリース
  - 木の斧による範囲選択機能
  - WorldGuard地域作成機能
  - 手動看板設置による土地販売システム
  - 自動権限付与システム
  - 土地名変更機能
  - 看板自動更新機能
